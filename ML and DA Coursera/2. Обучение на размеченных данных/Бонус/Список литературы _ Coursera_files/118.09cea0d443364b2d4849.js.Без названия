(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{"0fig":function(module,e,t){"use strict";t.r(e);var r=t("VbXa"),n=t.n(r),o=t("q1tI"),s=t.n(o),a=t("w/1P"),i=t.n(a),c=t("MnCE"),d=t("TOZ3"),u=t("17x9"),m=t.n(u),p=t("S+eF"),l=t.n(p),g=t("sQ/U"),f=t("q5zD"),v=t("/ukj"),h=t("w/Ge"),b=t("/AOU"),I=t("pJBN"),C=t("q+GK"),w=t("B8z3"),S=t("PB6g"),x=t("scbn"),P=t("I8sN"),y=t("Gj+q"),O=t("eBhw"),E=t("TdzE"),M=t("Jz+x"),j=t("emlC"),k=t("W9re"),T=t.n(k),D=[b.c.SET_COMPLETE],W=function(e){function WidgetItem(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={iFrameMessages:[],widgetId:Object(h.b)(),itemProgressState:null,markCompleteDeferred:null,isExpanded:!1},t.onReceiveMessage=function(e){var r=t.state.iFrameMessages;if(r.push(e),t.setState({iFrameMessages:r}),e.type===b.c.SET_COMPLETE){t.markComplete();var n=l.a.defer();return t.setState({markCompleteDeferred:n}),n.promise}return l()()},t.onToggleExpanded=function(){return t.setState(function(e){return{isExpanded:!e.isExpanded}})},t.markComplete=function(){var e=t.props,r=e.computedCourseProgress.courseProgress,n=e.computedItem,o=e.courseId,s=e.sessionId,a=r.getItemProgress(n.id),i=g.a.get().id,c=n.id;t.context.executeAction(C.a,{itemId:c,courseId:o,userId:i,itemProgress:a,courseProgress:r,sessionId:s})},t.markStarted=function(){var e=t.props,r=e.computedCourseProgress.courseProgress,n=e.computedItem,o=e.courseId,s=e.sessionId,a=r.getItemProgress(n.id),i=g.a.get().id,c=n.id;t.context.executeAction(C.b,{itemId:c,courseId:o,userId:i,itemProgress:a,courseProgress:r,sessionId:s})},t.isOnMobile=function(){var e,r=t.context.getStore("ApplicationStore").getUserAgent(),n=r&&r.isMobileBrowser;return v.a.get()||n},t}n()(WidgetItem,e);var t=WidgetItem.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,r=t.computedItem,n,o=t.computedCourseProgress.courseProgress.getItemProgress(r.id);o.getState()!==this.state.itemProgressState&&(this.setState({itemProgressState:o.getState()}),this.state.markCompleteDeferred&&(this.state.markCompleteDeferred.resolve(),this.setState({markCompleteDeferred:null})))},t.render=function render(){var e,t=this,r=this.props,n=r.session,o=r.sessionId,a=r.computedItem,c=r.itemMetadata,u=r.courseMaterials,m=null==u?void 0:null===(e=u.getNeighbors(c))||void 0===e?void 0:e.nextItemMetadataOrItemGroup,p=this.state.isExpanded;if(!n)return s.a.createElement("div",{className:"horizontal-box align-items-absolute-center widget-iframe"},s.a.createElement(f.a,{name:"spinner",size:"2x",spin:!0,className:"color-hint-text"}));if(this.isOnMobile()&&!Object(I.a)(a.contentSummary.definition))return s.a.createElement(P.a,{name:a.name});return s.a.createElement("div",{className:i()("rc-WidgetItem",{mobile:this.isOnMobile()})},s.a.createElement(S.b,{tagName:"h1"},a.name),s.a.createElement(w.a,{inWidgetItem:!0,session:n,sessionId:o,onToggleExpanded:this.onToggleExpanded,widgetId:this.state.widgetId,parentRpcActions:D,isComplete:a.isCompleted,widgetContentTitle:a.name,nextItem:m,markComplete:function markComplete(){t.markComplete()}}),s.a.createElement(d.b,{"aria-hidden":p,justifyContent:"end",style:{marginTop:"50px",borderTop:"1px solid #ddd",paddingTop:"15px",paddingBottom:"15px"}},s.a.createElement(x.a,{computedItem:a,itemFeedbackType:"widget"})))},WidgetItem}(s.a.Component);W.contextTypes={executeAction:m.a.func.isRequired,getStore:m.a.func};var N=Object(y.a)(W,function(e,t){var r=e.computedItem,n=e.courseId,o=e.courseSlug,s;return new O.a({itemId:r.id,courseId:n,courseSlug:o}).getWithUserCourseItemId("onDemandWidgetSessions.v1",{fields:["session","sessionId"]}).then(function(e){var t=e.elements[0],r,n;return{session:t.session,sessionId:t.sessionId}})}),A=Object(c.compose)(Object(E.b)(),Object(M.a)(),Object(j.a)(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug(),courseMaterials:t.getMaterials()}}))(N);e.default=A},"67Gb":function(module,exports,e){},G4vT:function(module,exports,e){var t=e("JdHw"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"Gj+q":function(module,e,t){"use strict";var r=t("pVnL"),n=t.n(r),o=t("lSNA"),s=t.n(o),a=t("VbXa"),i=t.n(a),c=t("q1tI"),d=t.n(c),u=t("17x9"),m=t.n(u);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){s()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=function componentDataFetcher(e,t){var r=e.displayName||e.name,o=function(o){function DataFetcherComponent(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=o.call.apply(o,[this].concat(n))||this).displayName=r+"DataFetcher",e.state={isComponentLoaded:!1},e}i()(DataFetcherComponent,o);var s=DataFetcherComponent.prototype;return s.componentDidMount=function componentDidMount(){var e=this,r=this.props,n=this.context,o=n.router,s=t(r,o.params,n).then(function(t){e.setState(_objectSpread({isComponentLoaded:!0},t))});s.catch&&s.catch(function(e){throw e}),s.done&&s.done()},s.render=function render(){return d.a.createElement(e,n()({},this.props,this.state))},DataFetcherComponent}(d.a.Component);return o.contextTypes={executeAction:m.a.func,router:m.a.object},o.BaseComp=e,o};e.a=p},I8sN:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("q1tI"),s=t.n(o),a=t("kvW3"),i=t("G4vT"),c=t.n(i),d=t("gKW9"),u=t.n(d),m=t("cVIm"),p="".concat(m.a.url.resource_assets,"widget/svgcomputer.svg"),l=function(e){function UnavailableOnMobileMessage(){return e.apply(this,arguments)||this}var t;return n()(UnavailableOnMobileMessage,e),UnavailableOnMobileMessage.prototype.render=function render(){var e=this.props.name;return s.a.createElement("div",{className:"rc-UnavailableOnMobileMessage vertical-box align-items-absolute-center"},s.a.createElement("div",{className:"headline-5-text p-x-1"},e),s.a.createElement("div",{className:"body-1-text p-x-1 p-b-2"},s.a.createElement(a.b,{message:u()("This item was not designed for use on a small screen.")})),s.a.createElement("div",{className:"align-horizontal-center p-b-2"},s.a.createElement("img",{className:"computer-icon",src:p,alt:u()("Computer Icon"),height:"120",width:"220"})),s.a.createElement("div",{className:"body-1-text horizontal-box align-horizontal-center p-x-1"},s.a.createElement(a.b,{message:u()("Please use a computer or laptop to complete this item.")})))},UnavailableOnMobileMessage}(s.a.Component);e.a=l},JdHw:function(module,exports,e){},TpyX:function(module,e,t){"use strict";var r=t("S+eF"),n=t.n(r),o=t("TSOT"),s=Object(o.a)("/api/onDemandWidgetProgress.v1",{type:"rest"}),a={markComplete:function markComplete(e,t,r,o){var a={data:{sessionId:o,progressState:"Completed"}},i=[r,t,e].join("~");return n()(s.put(i,a))},markStarted:function markStarted(e,t,r,o){var a={data:{sessionId:o,progressState:"Started"}},i=[r,t,e].join("~");return n()(s.put(i,a))}};e.a=a;var i=a.markComplete,c=a.markStarted},W9re:function(module,exports,e){var t=e("67Gb"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},pJBN:function(module,e,t){"use strict";t.d(e,"a",function(){return n});var r=function getDeviceDimensions(){var e,t;if("undefined"!=typeof document&&"undefined"!=typeof window){var r,n=window.screen,o,s;if(void 0!==window.screen)e=n.height,t=n.width;else e=window.innerHeight,t=window.innerWidth}else e=0,t=0;return{deviceHeight:e,deviceWidth:t}},n=function isCompatibleWithMobile(e){var t=e.supportsTouch,n=e.minWidthPx,o=e.minHeightPx,s=r(),a=s.deviceWidth,i=s.deviceHeight;if(!1===t)return!1;if(void 0!==n&&n>a)return!1;if(void 0!==o&&o>i)return!1;return!0}},"q+GK":function(module,e,t){"use strict";t.d(e,"a",function(){return a}),t.d(e,"b",function(){return i});var r=t("TpyX"),n=t("E4RX"),o=t("15pW"),s=function refreshProgress(e,t,r,o){r.setState(t,{refreshCourseProgress:!0}),e.executeAction(n.c,{courseProgress:o})},a=function markItemComplete(e,t){var n=t.itemId,a=t.courseId,i=t.userId,c=t.itemProgress,d=t.courseProgress,u=t.sessionId;return r.a.markComplete(n,a,i,u).then(s(e,o.d.progressCompleted,c,d))},i=function markItemStarted(e,t){var n=t.itemId,a=t.courseId,i=t.userId,c=t.itemProgress,d=t.courseProgress,u=t.sessionId;return r.a.markStarted(n,a,i,u).then(s(e,o.d.progressStarted,c,d))}}}]);
//# sourceMappingURL=118.09cea0d443364b2d4849.js.map